!function i(n,d,c){function l(r,t){if(!d[r]){if(!n[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(s)return s(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var o=d[r]={exports:{}};n[r][0].call(o.exports,function(t){return l(n[r][1][t]||t)},o,o.exports,i,n,d,c)}return d[r].exports}for(var s="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,r,e){"use strict";t("primo-explore-lod-author-card");var a=angular.module("viewCustom",["angularLoad","lodAuthorCard"]);a.component("prmExploreMainAfter",{bindings:{parentCtrl:"<"},controller:function(){this.parentCtrl.searchService.cheetah.configurationUtil.searchStateService.resultsBulkSize=50}}),a.component("prmFullViewAfter",{bindings:{parentCtrl:"<"},template:'<lod-author-card-component parent-ctrl="$ctrl.parentCtrl"></lod-author-card-component>'})},{"primo-explore-lod-author-card":2}],2:[function(t,r,e){t("./js/lod-author-card.module.js"),r.exports="lodAuthorCard"},{"./js/lod-author-card.module.js":3}],3:[function(t,r,e){angular.module("lodAuthorCard",[]).filter("escape",function(){return window.encodeURIComponent}).filter("secureSrc",function(){return function(t){return t.substr(t.indexOf(":")+1)}}).constant("lodAuthorCardOptions",{bibcardApi:"https://etutga8qg7.execute-api.us-east-1.amazonaws.com/bibcard?uri="}).controller("LodAuthorCardComponentController",["$http","$scope","lodAuthorCardOptions",function(r,e,a){var t=this,o=/https?:\/\/id\.loc\.gov\//,i=t.parentCtrl.item.pnx.display.mms[0],n=t.parentCtrl.configurationUtil.vid.split(":")[0];t.searchUrl="/discovery/search?vid="+t.parentCtrl.configurationUtil.vid;var d="https://open-na.hosted.exlibrisgroup.com/alma/"+n+"/bibs/"+i;e.loading=!0,r.get(d).then(function(t){var r,e=t.data;if(Array.isArray(e.creator)?r=e.creator.find(function(t){return t["@id"]&&t["@id"].match(o)}):e.creator["@id"]&&e.creator["@id"].match(o)&&(r=e.creator),r)return r["@id"];throw"No LC Names URI found"}).then(function(t){return r.get(a.bibcardApi+t)}).then(function(t){e.bibcard=t.data}).catch(function(t){console.warn(t)}).finally(function(){e.loading=!1})}]).component("lodAuthorCardComponent",{bindings:{parentCtrl:"<"},controller:"LodAuthorCardComponentController",template:'    <div class="full-view-section lod-author-card" flex-md="80" flex-lg="80" flex-xl="80" flex>    <div class="layout-full-width full-view-section-content">      <div class="section-header" layout="row" layout-align="center center">        <h2 class="section-title md-title light-text">          More information about the author:        </h2>        <md-divider flex></md-divider>      </div>      <div class="section-body" layout="row">        <div ng-if="!loading">          <span ng-if="!bibcard">No further information is available for this author</span>          <md-card ng-if="bibcard">            <md-card-title>              <md-card-title-text>                <span class="md-headline">{{bibcard.name}}</span>                <span class="md-subhead">{{bibcard.wikidata_entity.description}}                  ({{bibcard.birth_date | date:\'mediumDate\'}}-{{bibcard.death_date | date:\'mediumDate\'}})</span>              </md-card-title-text>            </md-card-title>            <md-card-content>              <div layout="row" layout-xs="column">                <div flex="" class="lod-author-card-abstract">                  {{bibcard.dbpedia_resource.abstract}}                </div>                <div flex="33">                  <img ng-src="{{bibcard.dbpedia_resource.depiction|secureSrc}}" style="width: 100%">                </div>              </div>              <div>                <span class="md-subhead">Notable works</span>                <ul>                  <li ng-repeat="work in bibcard.wikidata_entity.notable_works">                    <a ng-href="{{$ctrl.searchUrl + \'&query=title,contains,\' + (work | escape)}}"                      target="_blank">{{work}}</a>                  </li>                </ul>              </div>            </md-card-content>          </md-card>        </div>        <md-progress-circular ng-if="loading" md-mode="indeterminate"></md-progress-circular>      </div>    </div>  </div>  '})},{}]},{},[1]);
//# sourceMappingURL=custom.js.map
